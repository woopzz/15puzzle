(()=>{"use strict";var t,e=[(t,e,n)=>{n.r(e);n(1);var r=n(2),i=n(3),o=n(4),a=new Map([["1","0"],["2","1"],["3","2"],["4","3"],["5","4"],["6","5"],["7","6"],["8","7"],["9","8"],["10","9"],["11","A"],["12","B"],["13","C"],["14","D"],["15","E"],["0","F"]]),s=new Map([["0","1"],["1","2"],["2","3"],["3","4"],["4","5"],["5","6"],["6","7"],["7","8"],["8","9"],["9","10"],["A","11"],["B","12"],["C","13"],["D","14"],["E","15"],["F","0"]]);var l=function(){return new i.Shuffle(new r.Board(r.SOLVED_BOARD_STATE,[])).execute()};function u(){var t=l(),e=[],n=function(){return function(t,e){for(var n=document.querySelector(".field"),i=document.querySelector(".won-msg"),o=n.children,a=0;a<t.state.length;a++){var l=o[a];l.dataset.number=s.get(t.state[a]),l.style.backgroundColor=""}e.length&&(o[e.at(-1)].style.backgroundColor="#bbb"),i.style.display=(0,r.solved)(t)?"block":"none"}(t,e)};document.querySelector(".field").addEventListener("click",(function(r){var i=r.target;if(i.classList.contains("box")){var o=a.get(i.dataset.number);if(void 0!==o){var s=t.state.indexOf(o);t.canBeMoved(s)&&(t=t.move(s)),e.length&&(t.path.length&&t.path.at(-1)===e.at(-1)?e.pop():e=[]),n()}}})),document.querySelector(".hint").addEventListener("click",(function(){var r=new o.Solve(t).execute();e=r.path.reverse(),n()})),document.querySelector(".shuffle").addEventListener("click",(function(){t=l(),e=[],n()})),n()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",u):u()},(t,e,n)=>{n.r(e)},(t,e,n)=>{n.r(e),n.d(e,{BLANK_TILE:()=>o,Board:()=>a,SOLVED_BOARD_STATE:()=>i,solvable:()=>l,solved:()=>s});var r=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},i="0123456789ABCDEF",o="F",a=function(){function t(t,e){void 0===e&&(e=[]),this.state=t,this.path=e,this.blankTileIndex=t.indexOf(o)}return t.prototype.canBeMoved=function(t){return!(t<0||t>15)&&(t-4===this.blankTileIndex||t+4===this.blankTileIndex||t-1===this.blankTileIndex&&t%4!=0||t+1===this.blankTileIndex&&t%4!=3)},t.prototype.move=function(e){var n=this.blankTileIndex<e?this.blankTileIndex:e,i=this.blankTileIndex>e?this.blankTileIndex:e;return new t(this.state.slice(0,n)+this.state[i]+this.state.slice(n+1,i)+this.state[n]+this.state.slice(i+1),r(r([],this.path),[e]))},t}();function s(t){return t.state===i}function l(t){var e=1&function(t){var e=t.state.indexOf(o);return 4-Math.floor(e/4)}(t),n=1&function(t){for(var e=0,n=0;n<t.state.length-1;n++)for(var r=n+1;r<t.state.length;r++)t.state[n]!==o&&t.state[r]!==o&&t.state[n]>t.state[r]&&e++;return e}(t);return!!(e^n)}},(t,e,n)=>{n.r(e),n.d(e,{Shuffle:()=>i});var r=n(2),i=function(){function t(t){this.board=t}return t.prototype.execute=function(){for(;this.shuffle(),!(0,r.solvable)(this.board)||(0,r.solved)(this.board););return this.board},t.prototype.shuffle=function(){for(var t=Array.from(this.board.state),e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*e),i=t[e];t[e]=t[n],t[n]=i}this.board=new r.Board(t.join(""))},t}()},(t,e,n)=>{n.r(e),n.d(e,{Solve:()=>h});var r=n(5),i=n(2),o=n(6),a=function(t){return t.blankTileIndex-4},s=function(t){return t.blankTileIndex-1},l=function(t){return t.blankTileIndex+4},u=function(t){return t.blankTileIndex+1};function c(t,e){return 0===e.filter((function(e){return t.state.indexOf(e)!==i.SOLVED_BOARD_STATE.indexOf(e)})).length}var h=function(){function t(t){this.initialBoard=new i.Board(t.state),this.lockedTiles=new o.LockedTiles}return t.prototype.execute=function(){var t=this.initialBoard;return c(t,["0"])||(t=this.bfs(t,new f("0",0))),this.lockedTiles.lock(0),c(t,["1"])||(t=this.bfs(t,new f("1",1))),this.lockedTiles.lock(1),c(t,["4"])||(t=this.bfs(t,new f("4",4))),this.lockedTiles.lock(4),c(t,["5"])||(t=this.bfs(t,new f("5",5))),this.lockedTiles.lock(5),c(t,["2","3"])||(t=this.bfs(t,new d([["2",3],["3",10],[i.BLANK_TILE,6]])),t=this.applyFormula(t)),this.lockedTiles.lock(2),this.lockedTiles.lock(3),c(t,["6","7"])||(t=this.bfs(t,new d([["6",7],["7",14],[i.BLANK_TILE,10]])),t=this.applyFormula(t)),this.lockedTiles.lock(6),this.lockedTiles.lock(7),c(t,["8","9","A","B","C","D","E","F"])||(t=this.bfs(t,new d([["8",8],["9",9],["A",10],["B",11],["C",12],["D",13],["E",14],["F",15]]))),t},t.prototype.bfs=function(t,e){var n=new r.PriorityQueue;n.insert(t,e.calcHeuristic(t));for(var i,o=new Set;;)if(i=n.extractMin(),!o.has(i.state)){if(e.solved(i))break;for(var c=0,h=[a(i),s(i),l(i),u(i)];c<h.length;c++){var f=h[c];if(i.canBeMoved(f)&&!this.lockedTiles.locked(f)){var d=i.move(f);o.has(d.state)||n.insert(d,e.calcHeuristic(d))}}o.add(i.state)}return i},t.prototype.applyFormula=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.move(l(t))).move(u(t))).move(a(t))).move(a(t))).move(s(t))).move(l(t))).move(u(t))).move(a(t))).move(s(t))).move(l(t))},t}(),f=function(){function t(t,e){this.tile=t,this.destIndex=e}return t.prototype.solved=function(t){return t.state[this.destIndex]===this.tile},t.prototype.calcHeuristic=function(t){return this.calcManhattanDistance(t)+t.path.length},t.prototype.calcManhattanDistance=function(t){var e,n,r,o,a,s,l,u,c=t.state.indexOf(i.BLANK_TILE),h=t.state.indexOf(this.tile),f=v(h),d=p(h);return o=c,a=v(r=h),s=p(r),l=v(o),u=p(o),1==Math.abs(a-l)&&s===u||1==Math.abs(s-u)&&a===l||this.tile==i.BLANK_TILE?(e=v(this.destIndex),n=p(this.destIndex)):(e=v(c),n=p(c)),Math.abs(f-e)+Math.abs(d-n)},t}(),d=function(){function t(t){this.listOfTileAndDestIndex=t}return t.prototype.solved=function(t){return this.listOfTileAndDestIndex.every((function(e){return t.state[e[1]]===e[0]}))},t.prototype.calcHeuristic=function(t){return this.calcManhattanDistance(t)+t.path.length},t.prototype.calcManhattanDistance=function(t){for(var e=0,n=0,r=this.listOfTileAndDestIndex;n<r.length;n++){var i=r[n],o=t.state.indexOf(i[0]),a=v(o),s=p(o),l=v(i[1]),u=p(i[1]);e+=Math.abs(a-l)+Math.abs(s-u)}return e},t}();function v(t){return Math.floor(t/4)}function p(t){return t%4}},(t,e,n)=>{n.r(e),n.d(e,{PriorityQueue:()=>r});var r=function(){function t(){this.queue=new Map}return t.prototype.insert=function(t,e){this.queue.has(e)?this.queue.get(e).push(t):this.queue.set(e,[t])},t.prototype.extractMin=function(){this.throwErrorIfEmpty();var t=this.findSmallestPriority(),e=this.queue.get(t),n=e[0];return 1===e.length?this.queue.delete(t):e.shift(),n},t.prototype.throwErrorIfEmpty=function(){if(0===this.queue.size)throw new Error("The queue is empty.")},t.prototype.findSmallestPriority=function(){var t=1/0;return this.queue.forEach((function(e,n){n<t&&(t=n)})),t},t}()},(t,e,n)=>{n.r(e),n.d(e,{LockedTiles:()=>r});var r=function(){function t(){this.state=new Array(16).fill(!1)}return t.prototype.locked=function(t){return this.state[t]},t.prototype.lock=function(t){this.state[t]=!0},t.prototype.unlock=function(t){this.state[t]=!1},t}()}],n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,i,o]=t[c],s=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(s=!1,o<a&&(a=o));if(s){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={0:0,1:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,l]=n,u=0;if(a.some((e=>0!==t[e]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(l)var c=l(r)}for(e&&e(n);u<a.length;u++)o=a[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},n=self.webpackChunk_15puzzle=self.webpackChunk_15puzzle||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=r.O(void 0,[1],(()=>r(0)));i=r.O(i)})();